<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¼ì˜¤ìŠ¤ ë¹„ì—”í‹°ì•ˆ(1ë°•) - ë°©ë¹„ì—¥ (2ë°•) C-Pack ë¹ ë¥¸ê²¬ì </title>
  <meta name="viewport" content="width=480,user-scalable=no">
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function(){ emailjs.init('luKxEKdyyvY4hjYfo'); })();
  </script>
  <style>
    html { font-size:15px;}
    body { font-family: 'Pretendard', 'Noto Sans KR', Arial, sans-serif; background: #f7f7fa; margin: 0; padding: 0; color: #222; font-size:1rem;}
    .container { max-width: 880px; margin:32px auto; padding: 24px; background: #fff; border-radius: 18px; box-shadow: 0 2px 14px rgba(70, 85, 110, 0.12); }

    /* 2ë‹¨ ì»¬ëŸ¼ (PC) */
    .form-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
    }
    .form-col {
      flex: 1 1 0;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: 0;
    }
    .form-col.left {
      min-width: 300px; /* í•„ìš”ì‹œ ì¡°ì • */
      flex-basis: 48%;
    }
    .form-col.right {
      min-width: 300px;
      flex-basis: 48%;
    }

    .section, .date-section, .result-section, .contact-section { margin-bottom: 24px; }
    h1 { font-size: 1.18rem; font-weight: bold; text-align: center; margin-bottom: 24px; color: #14508e; letter-spacing: -1px;}
    .result-section .result-title {
      font-size: 1.21em;
      font-weight: bold;
      color: #17508e;
      margin-bottom: 2px;
    }
    .result-section .result-desc {
      font-size: 0.95em;
      color: #989898;
      margin-bottom: 10px;
    }
    .result-section .result-big {
      font-size: 1.5em;
      font-weight: 700;
      color: #d02b2b;
      margin-left: 3px;
      display: inline-block;
    }

    /* ìˆ™ë°•íŒ© ê°€ê²© ì»¬ëŸ¬ */
    .room-price-blue { color: #1559d4 !important; font-weight: bold;}
    .room-total-red { color: #d02b2b !important; font-weight: bold;}

    /* ì„ íƒê´€ê´‘ ì¸ë‹¹ ê°€ê²©(íŒŒë‘) */
    .price-blue { color: #1559d4 !important; font-weight: bold; }

    /* ì „ì²´ ë³¼ë“œí™” */
    .section-label-row, .option-title, .option-unit, .option-total, .toggle-btn,
    .contact-label, .contact-input, .person-desc, label { font-weight: bold;}

    /* ìˆ™ë°•íŒ© ë²„íŠ¼ ìš°ì¸¡ ì •ë ¬ (ì‹±ê¸€ë£¸/ì´ˆê¸°í™”) */
    .section-label-row { display: flex; justify-content: space-between; align-items: center; }
    .option-row { position: relative; }

    /* ì„ íƒê´€ê´‘ -1ëª… ë²„íŠ¼ ìœ„ì¹˜ */
    .option-controls { position: absolute; right: 12px; top: 10px; z-index:2; }
    .option-minus-btn { font-size: 1em; padding: 4px 10px; border-radius:7px; background:#e9e7ff; color:#2857a3; border:1px solid #bdd2ea; cursor:pointer;}
    .option-minus-btn:active { background:#c9e2ff;}

    .option-total {
      position: absolute;
      right: 10px;
      bottom: 9px;
      color: #d02b2b;
      font-size: 1.07em;
      background: none; border: none; margin: 0; font-weight: bold;
    }
    /* ì„ íƒ ì•ˆëœ ìƒíƒœ ì¸ë‹¹ ê°€ê²© íŒŒë‘(PC) */
    .option-unit.price-blue { color: #1559d4 !important; font-weight: bold;}

    .contact-section {
      background: #f9fafb !important;
      border-radius: 12px !important;
      padding: 12px 8px 7px 8px !important;
      font-weight: bold;
    }

    /* ëª¨ë°”ì¼ì—ì„œ 1ë‹¨ìœ¼ë¡œ ë³€ê²½ */
    @media (max-width: 900px) {
      .container { max-width: 99vw; padding: 7vw 2vw;}
      .form-grid { flex-direction: column; gap: 0;}
      .form-col.left, .form-col.right { flex-basis: 100%; min-width: 0;}
    }
    @media (max-width:700px) {
      /* ì†Œì œëª©, ë¸”ë¡ ë“± í¬ê²Œ */
      .section-label-row label, .date-label, .result-title { font-size: 1.35em !important; }
      .option-title, .option-unit, .option-total, .toggle-btn { font-size: 1.11em !important; }
      .section, .date-section, .result-section, .contact-section, .option-row { font-weight: bold; }
      .option-row { min-height: 38px !important; font-size: 1em;}
      .option-controls { right: 8px; top: 7px; }
      .option-minus-btn { font-size: 1.16em !important; padding: 1px 11px !important;}
      .option-total { font-size: 1.22em !important; bottom: 6px;}
      /* ì„ íƒ ì „ ì¸ë‹¹ ê°€ê²© í°íŠ¸ */
      .option-unit.price-blue { font-size: 1.1em !important; }
    }
    /* ìˆ™ë°•íŒ© - ê°ì‹¤ ê°€ê²©(íŒŒë‘), ì´ê°€ê²©(ë¹¨ê°•) */
    .room-price-blue { color: #1559d4 !important; font-weight: bold;}
    .room-total-red { color: #d02b2b !important; font-weight: bold;}
  </style>
</head>
<body>

<div class="container" id="cpack-quickform">
  <h1>ë¼ì˜¤ìŠ¤ ë¹„ì—”í‹°ì•ˆ(1ë°•) - ë°©ë¹„ì—¥ (2ë°•) C-Pack ë¹ ë¥¸ê²¬ì </h1>
  <div class="form-grid">
    <!-- ì™¼ìª½ ì»¬ëŸ¼: ë‚ ì§œ, ì¸ì›, ê°€ì´ë“œ, ë°©ë¹„ì—¥, ì¼€ì–´íŒ© -->
    <div class="form-col left">
      <div class="date-section">
        <label class="date-label" for="travelDate">ì—¬í–‰ì¼ì <span style="font-weight:400; color:#999; font-size:0.92em;">(ì¶œêµ­ì¼ ê¸°ì¤€, í•„ìˆ˜)</span></label>
        <div class="date-input-wrap">
          <span class="date-icon">ğŸ“…</span>
          <input type="date" id="travelDate" class="date-input" required>
        </div>
      </div>
      <div class="section">
        <label>ì—¬í–‰ì¸ì› <span style="font-weight:400; color:#999; font-size:0.92em;">(2~8ëª…, ì˜ˆì•½ê¸ˆ ì¸ë‹¹ 60,000ì›)</span></label>
        <div class="toggle-group" id="personToggleGroup"></div>
        <div class="person-desc">9ëª… ì´ìƒ ë‹¨ì²´ í• ì¸ ì ìš© ê°€ëŠ¥, <b>ê°œë³„ ë¬¸ì˜</b></div>
      </div>
      <div class="section">
        <label>ê°€ì´ë“œíŒ© <span style="font-weight:400; color:#999; font-size:0.92em;">(ë‹¨ì¼ ì„ íƒ)</span></label>
        <div class="toggle-group" id="guideToggleGroup">
          <div class="toggle-btn selected" data-guide="kr" data-price="220">í•œêµ­ì¸ ê°€ì´ë“œ<br><span style="font-size:0.91em; color:#bbe6fa;">$220/íŒ€</span></div>
          <div class="toggle-btn" data-guide="local" data-price="0">í˜„ì§€ì¸ ê°€ì´ë“œ<br><span style="font-size:0.91em; color:#55c;">ì¶”ê°€ìš”ê¸ˆ ì—†ìŒ</span></div>
        </div>
      </div>
      <div class="section">
        <div class="section-label-row">
          <label>ì„ íƒê´€ê´‘ (ë°©ë¹„ì—¥)</label>
          <button type="button" class="init-btn" onclick="resetVangvieng()">ì´ˆê¸°í™”</button>
        </div>
        <div class="option-list" id="vangviengList"></div>
      </div>
      <div class="section">
        <div class="section-label-row">
          <label>ì„ íƒê´€ê´‘ (ì¼€ì–´íŒ©)</label>
          <button type="button" class="init-btn" onclick="resetCare()">ì´ˆê¸°í™”</button>
        </div>
        <div class="option-list" id="careList"></div>
      </div>
    </div>
    <!-- ì˜¤ë¥¸ìª½ ì»¬ëŸ¼: ìˆ™ë°•, ê²°ê³¼, ì—°ë½ì²˜, ì œì¶œ -->
    <div class="form-col right">
      <div class="section">
        <div class="section-label-row">
          <label>ìˆ™ë°•íŒ©</label>
          <div>
            <button type="button" class="room-single-btn" onclick="addSingleRoom()">ì‹±ê¸€ë£¸ ì¶”ê°€</button>
            <button type="button" class="init-btn" onclick="resetSingleRoom()">ì´ˆê¸°í™”</button>
          </div>
        </div>
        <div class="option-list" id="roomList"></div>
      </div>
      <div class="result-section" id="resultSection">
        <div class="result-title">ë¹ ë¥¸ ê²¬ì  ê¸ˆì•¡</div>
        <div class="result-desc">(ì‹¤ì œ ê²¬ì ê³¼ ìƒì´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)</div>
        ê³„ì•½ê¸ˆ (í•œêµ­ì—ì„œ ì…ê¸ˆí•˜ì‹¤ ê¸ˆì•¡): 
        <span id="contractPrice" class="result-big"></span><br>
        ì”ê¸ˆ (í˜„ì§€ì—ì„œ ë‹¬ëŸ¬ ì§€ë¶ˆí•˜ì‹¤ ê¸ˆì•¡): 
        <span id="usdPrice" class="result-big"></span>
      </div>
      <div class="contact-section">
        <label class="contact-label" for="contactName">ëŒ€í‘œì ì„±í•¨ <span style="color:#d02b2b;">*</span></label>
        <input type="text" class="contact-input" id="contactName" placeholder="ëŒ€í‘œì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
        <label class="contact-label" for="contactPhone">ì—°ë½ ê°€ëŠ¥í•œ ë²ˆí˜¸ ë˜ëŠ” ì¹´ì¹´ì˜¤í†¡ ID <span style="color:#d02b2b;">*</span></label>
        <input type="text" class="contact-input" id="contactPhone" placeholder="íœ´ëŒ€í° ë²ˆí˜¸ ë˜ëŠ” ì¹´ì¹´ì˜¤í†¡ ID" required>
        <label class="contact-label" for="contactNote">ê¸°íƒ€ ìš”ì²­ ì‚¬í•­ (ì„ íƒ)</label>
        <textarea class="contact-input" id="contactNote" rows="2" placeholder="ì˜ˆ ) ì˜ˆì•½ ê´€ë ¨ íŠ¹ì´ì‚¬í•­, ì‹ë‹¨, ì„ íƒê´€ê´‘ì— ì—†ëŠ” ì¶”ê°€ í¬ë§ ì¼ì • ë“±"></textarea>
      </div>
      <button class="submit-btn" onclick="submitEstimate()">ë¹ ë¥¸ ê²¬ì  ë³´ë‚´ê¸°</button>
    </div>
  </div>
</div>
<script>
const MAX_PERSON = 8;
const extraUsdByPerson = {8:95,7:105,6:118,5:137,4:165,3:211,2:305};
const vangviengOptions = [
  {name: "ì—´ê¸°êµ¬", price: 100},
  {name: "í˜ëŸ¬ëª¨í„°", price: 85},
  {name: "ë²„ê¸°ì¹´", price: 18},
  {name: "ì§šë¼ì¸", price: 20},
  {name: "ë¡±í…Œì¼ë³´íŠ¸", price: 10},
  {name: "ì‹œí¬ë¦¿ë¼êµ°", price: 10}
];
const careOptions = [
  {name: "ë² íŠ¸ë‚¨ì‹ ì´ë°œê´€ í’€ì½”ìŠ¤ (90ë¶„)", price: 30},
  {name: "ë¼ì˜¤ í—ˆë²Œ í…Œë¼í”¼", price: 40},
  {name: "ë¼ì˜¤ ì „í†µ ë§ˆì‚¬ì§€ (2ì‹œê°„)", price: 25},
  {name: "ë¼ì˜¤ ì „í†µ ë§ˆì‚¬ì§€ (1ì‹œê°„)", price: 13},
  {name: "ë¼ì˜¤ ì˜¤ì¼ ë§ˆì‚¬ì§€ (2ì‹œê°„)", price: 35},
  {name: "ë¼ì˜¤ ì˜¤ì¼ ë§ˆì‚¬ì§€ (1ì‹œê°„)", price: 20}
];
const roomOptions = [
  {name: "5ì„±ê¸‰ 3ë°•", price: 255000},
  {name: "4ì„±ê¸‰ 3ë°•", price: 159000},
  {name: "ì œê°€ ì˜ˆì•½í• ê²Œìš”", price: 0}
];
const personToggleGroup = document.getElementById("personToggleGroup");
let personCount = 2;
for(let i=2; i<=MAX_PERSON; i++) {
  const btn = document.createElement("div");
  btn.className = "toggle-btn" + (i===2 ? " selected" : "");
  btn.innerText = i + "ëª…";
  btn.setAttribute('data-person', i);
  btn.onclick = function() {
    document.querySelectorAll("#personToggleGroup .toggle-btn").forEach(b=>b.classList.remove("selected"));
    btn.classList.add("selected");
    personCount = i;
    vangviengPersons = vangviengPersons.map((v,idx)=>vangviengChecked[idx]?personCount:0);
    carePersons = carePersons.map((v,idx)=>careChecked[idx]?personCount:0);
    updateRoomList();
    renderVangviengList();
    renderCareList();
    updateTotal();
    sendHeightToParent();
  }
  personToggleGroup.appendChild(btn);
}
let guideType = "kr";
let guidePrice = 220;
document.querySelectorAll("#guideToggleGroup .toggle-btn").forEach(btn=>{
  btn.onclick = function(){
    document.querySelectorAll("#guideToggleGroup .toggle-btn").forEach(b=>b.classList.remove("selected"));
    btn.classList.add("selected");
    guideType = btn.getAttribute('data-guide');
    guidePrice = Number(btn.getAttribute('data-price'));
    updateTotal();
    sendHeightToParent();
  }
});
// ì„ íƒê´€ê´‘(ë°©ë¹„ì—¥) ë²„íŠ¼í™”
const vangviengList = document.getElementById("vangviengList");
let vangviengChecked = Array(vangviengOptions.length).fill(false);
let vangviengPersons = Array(vangviengOptions.length).fill(0);
function renderVangviengList() {
  vangviengList.innerHTML = "";
  vangviengOptions.forEach((opt, idx) => {
    const row = document.createElement("div");
    row.className = "option-row" + (vangviengChecked[idx] ? " selected" : "");
    row.style.cursor = "pointer";
    row.onclick = function(){
      vangviengChecked[idx] = !vangviengChecked[idx];
      vangviengPersons[idx] = vangviengChecked[idx] ? personCount : 0;
      renderVangviengList();
      updateTotal();
      sendHeightToParent();
    };
    const title = document.createElement("div");
    title.className = "option-title";
    title.innerText = opt.name;
    row.appendChild(title);

    // ì¸ë‹¹ ê°€ê²©(íŒŒë‘, ë¯¸ì„ íƒì‹œ)
    const unit = document.createElement("div");
    unit.className = "option-unit" + (!vangviengChecked[idx] ? " price-blue" : "");
    if(vangviengChecked[idx]) {
      unit.innerText = `$${opt.price} Ã— ${vangviengPersons[idx]}ëª… = $${vangviengPersons[idx]*opt.price}`;
    } else {
      unit.innerText = `$${opt.price}/ì¸ë‹¹`;
    }
    row.appendChild(unit);

    // -1ëª… ë²„íŠ¼, ì´ ê°€ê²©
    if(vangviengChecked[idx]) {
      const controls = document.createElement("div");
      controls.className = "option-controls";
      const minusBtn = document.createElement("button");
      minusBtn.type = "button";
      minusBtn.className = "option-minus-btn";
      minusBtn.innerText = "-1ëª…";
      minusBtn.onclick = function(e){
        vangviengPersons[idx] = Math.max(0, vangviengPersons[idx]-1);
        if(vangviengPersons[idx]===0) vangviengChecked[idx]=false;
        renderVangviengList(); updateTotal(); sendHeightToParent();
        e.stopPropagation();
      };
      controls.appendChild(minusBtn);
      row.appendChild(controls);

      const total = document.createElement("div");
      total.className = "option-total";
      total.id = "vvTotal"+idx;
      total.innerText = `$${vangviengPersons[idx]*opt.price} / ì´ ${vangviengPersons[idx]}ëª…`;
      row.appendChild(total);
    }
    vangviengList.appendChild(row);
  });
}
window.resetVangvieng = function(){
  vangviengChecked = vangviengChecked.map(()=>false);
  vangviengPersons = vangviengPersons.map(()=>0);
  renderVangviengList();
  updateTotal();
  sendHeightToParent();
}
// ì„ íƒê´€ê´‘(ì¼€ì–´íŒ©) ë²„íŠ¼í™”
const careList = document.getElementById("careList");
let careChecked = Array(careOptions.length).fill(false);
let carePersons = Array(careOptions.length).fill(0);
function renderCareList() {
  careList.innerHTML = "";
  careOptions.forEach((opt, idx) => {
    const row = document.createElement("div");
    row.className = "option-row" + (careChecked[idx] ? " selected" : "");
    row.style.cursor = "pointer";
    row.onclick = function(){
      careChecked[idx] = !careChecked[idx];
      carePersons[idx] = careChecked[idx] ? personCount : 0;
      renderCareList();
      updateTotal();
      sendHeightToParent();
    };
    const title = document.createElement("div");
    title.className = "option-title";
    title.innerText = opt.name;
    row.appendChild(title);

    const unit = document.createElement("div");
    unit.className = "option-unit" + (!careChecked[idx] ? " price-blue" : "");
    if(careChecked[idx]) {
      unit.innerText = `$${opt.price} Ã— ${carePersons[idx]}ëª… = $${carePersons[idx]*opt.price}`;
    } else {
      unit.innerText = `$${opt.price}/ì¸ë‹¹`;
    }
    row.appendChild(unit);

    if(careChecked[idx]) {
      const controls = document.createElement("div");
      controls.className = "option-controls";
      const minusBtn = document.createElement("button");
      minusBtn.type = "button";
      minusBtn.className = "option-minus-btn";
      minusBtn.innerText = "-1ëª…";
      minusBtn.onclick = function(e){
        carePersons[idx] = Math.max(0, carePersons[idx]-1);
        if(carePersons[idx]===0) careChecked[idx]=false;
        renderCareList(); updateTotal(); sendHeightToParent();
        e.stopPropagation();
      };
      controls.appendChild(minusBtn);
      row.appendChild(controls);

      const total = document.createElement("div");
      total.className = "option-total";
      total.id = "careTotal"+idx;
      total.innerText = `$${carePersons[idx]*opt.price} / ì´ ${carePersons[idx]}ëª…`;
      row.appendChild(total);
    }
    careList.appendChild(row);
  });
}
window.resetCare = function(){
  careChecked = careChecked.map(()=>false);
  carePersons = carePersons.map(()=>0);
  renderCareList();
  updateTotal();
  sendHeightToParent();
}
// ìˆ™ë°•íŒ©(ë²„íŠ¼í™”, ë‹¨ì¼ì„ íƒ)
const roomList = document.getElementById("roomList");
let selectedRoomIdx = null;
let singleRoomAdd = 0;
function updateRoomList(){
  roomList.innerHTML = "";
  let baseRoomCnt = Math.ceil(personCount/2);
  let totalRooms = baseRoomCnt + singleRoomAdd;
  roomOptions.forEach((opt, idx) => {
    const row = document.createElement("div");
    row.className = "option-row" + (selectedRoomIdx === idx ? " selected" : "");
    row.style.cursor = "pointer";
    row.onclick = function(){
      if(selectedRoomIdx === idx){
        selectedRoomIdx = null;
      } else {
        selectedRoomIdx = idx;
      }
      updateRoomList();
      updateTotal();
      sendHeightToParent();
    };
    const title = document.createElement("div");
    title.className = "option-title";
    title.innerText = opt.name;
    // ê°ì‹¤ë‹¹ ê°€ê²© (íŒŒë‘)
    const unit = document.createElement("div");
    unit.className = "option-unit room-price-blue";
    unit.innerText = opt.price === 0 ? "0ì›" : `${opt.price.toLocaleString()}ì›/ê°ì‹¤`;
    // ì´ ê°€ê²© (ë¹¨ê°•)
    const total = document.createElement("div");
    total.className = "option-total room-total-red";
    total.id = "roomTotal"+idx;
    if(opt.price===0){
      total.innerText = "0ì›";
    } else {
      total.innerText = `${(totalRooms*opt.price).toLocaleString()}ì› / ${totalRooms}ê°ì‹¤`;
    }
    row.appendChild(title);
    row.appendChild(unit);
    row.appendChild(total);
    roomList.appendChild(row);
  });
}
window.addSingleRoom = function(){
  singleRoomAdd += 1;
  updateRoomList();
  updateTotal();
  sendHeightToParent();
}
window.resetSingleRoom = function(){
  singleRoomAdd = 0;
  selectedRoomIdx = null;
  updateRoomList();
  updateTotal();
  sendHeightToParent();
}
function updateTotal(){
  let contract = personCount * 60000;
  let baseRoomCnt = Math.ceil(personCount/2);
  let totalRooms = baseRoomCnt + singleRoomAdd;
  let roomPrice = (selectedRoomIdx !== null) ? roomOptions[selectedRoomIdx].price : 0;
  if(selectedRoomIdx !== null && roomPrice>0) contract += totalRooms*roomPrice;
  let usd = 0;
  if(guideType==="kr") usd += 220;
  vangviengOptions.forEach((opt, idx) => { usd += vangviengPersons[idx]*opt.price; });
  careOptions.forEach((opt, idx) => { usd += carePersons[idx]*opt.price; });
  let extraUsd = extraUsdByPerson[personCount] ? extraUsdByPerson[personCount] * personCount : 0;
  usd += extraUsd;
  document.getElementById("contractPrice").innerText = contract.toLocaleString()+"ì›";
  document.getElementById("usdPrice").innerText = "$"+usd.toLocaleString();
}
renderVangviengList();
renderCareList();
updateRoomList();
updateTotal();
// ê²¬ì  ì „ì†¡ (EmailJS)
function submitEstimate() {
  const travelDate = document.getElementById("travelDate").value.trim();
  if(!travelDate) { alert("ì—¬í–‰ì¼ìë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”."); document.getElementById("travelDate").focus(); return;}
  const name = document.getElementById("contactName").value.trim();
  const phone = document.getElementById("contactPhone").value.trim();
  const note = document.getElementById("contactNote").value.trim();
  if(!name) { alert("ëŒ€í‘œì ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); document.getElementById("contactName").focus(); return;}
  if(!phone) { alert("ì—°ë½ ê°€ëŠ¥í•œ ë²ˆí˜¸ ë˜ëŠ” ì¹´ì¹´ì˜¤í†¡ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."); document.getElementById("contactPhone").focus(); return;}
  let persons = personCount + "ëª…";
  let guide = guideType === "kr" ? "í•œêµ­ì¸ ê°€ì´ë“œ ($220/íŒ€)" : "í˜„ì§€ì¸ ê°€ì´ë“œ (ì¶”ê°€ìš”ê¸ˆ ì—†ìŒ)";
  let vangStr = vangviengOptions.map((opt, i)=> vangviengPersons[i]>0? `${opt.name} (${vangviengPersons[i]}ëª…)`:'').filter(Boolean).join(', ') || 'ì—†ìŒ';
  let careStr = careOptions.map((opt, i)=> carePersons[i]>0? `${opt.name} (${carePersons[i]}ëª…)`:'').filter(Boolean).join(', ') || 'ì—†ìŒ';
  let baseRoomCnt = Math.ceil(personCount/2);
  let totalRooms = baseRoomCnt + singleRoomAdd;
  let roomStr = selectedRoomIdx!==null ? roomOptions[selectedRoomIdx].name : "ë¯¸ì„ íƒ";
  if(selectedRoomIdx!==null && roomOptions[selectedRoomIdx].price!==0) roomStr += ` (${totalRooms}ê°ì‹¤)`;
  let contract = document.getElementById("contractPrice").innerText;
  let usd = document.getElementById("usdPrice").innerText;
  emailjs.send('service_e6uns2x', 'template_hhk1zot', {
    travel_date: travelDate,
    name: name,
    phone: phone,
    persons: persons,
    guide: guide,
    vangvieng: vangStr,
    care: careStr,
    room: roomStr,
    contract: contract,
    usd: usd,
    note: note
  }).then(function(response) {
    alert("ê²¬ì ì´ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!");
  }, function(error) {
    alert("ê²¬ì  ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
  });
}
// iframe ìë™ ë†’ì´ parentë¡œ ì „ë‹¬
function sendHeightToParent() {
  if (window.parent !== window) {
    window.parent.postMessage({
      type: "iframe-resize",
      height: document.body.scrollHeight
    }, "*");
  }
}
window.addEventListener("load", sendHeightToParent);
window.addEventListener("resize", sendHeightToParent);
const observer = new MutationObserver(sendHeightToParent);
observer.observe(document.body, { childList: true, subtree: true, attributes: true });
</script>
</body>
</html>
